{% extends 'base.html' %}
{% load static %}

{% block style %}
<style>
    #car-img{
        min-width: 46vw;
        max-width: 96vw;
    }
    .info-txt{font-size: 3.33vw;}
    .description{font-size: 2.5vw;}
    @media (min-width: 992px) {
        #car-info{min-width: max-content;}
        .info-txt{font-size: 2.5vw;}
        .description{font-size: 1.75vw;}
    }
</style>
{% endblock %}

{% block content %}
    <div class="d-flex flex-column flex-lg-row justify-content-evenly align-items-start">
        <img src="{{Car.image.url}}" class="mx-auto mx-lg-3 my-3" id="car-img">
        <div class="mx-3 mt-2 mb-4" id="car-info">
            <p class="info-txt"><b>Model:</b> {{Car.name}}</p>
            <p class="info-txt"><b>Brand:</b> {{Car.brand}}</p>
            <div class="d-lg-none">
                <p class="mb-1 info-txt"><b>Description:</b></pclas>
                <div class="border rounded p-2 mb-3 description">{{Car.description}}</div>
            </div>
            <p class="info-txt"><b>Price:</b> {{Car.price}}/-</p>
            {% if Car.quantity > 0 %}
                <p class="info-txt"><b>Quantity:</b> {{Car.quantity}} in stock</p>
            {% else %}
                <a class="btn btn-danger disabled mt-2 px-5"><span class="info-txt">Out of Stock</span></a>
            {% endif %}
            {% if request.user.is_authenticated and Car.quantity > 0 %}
                <a href="#" class="btn btn-success mt-2 py-3 w-100"><span class="info-txt">Buy Now</span></a>
            {% endif %}
        </div>
    </div>
    <div class="mx-3 d-none d-lg-block">
        <p class="mb-1 info-txt"><b>Description:</b></pclas>
        <div class="border rounded p-2 mb-3 description">{{Car.description}}</div>
    </div>

    <section id="related-cars"></section>
    <section id="comments"></section>
{% endblock %}